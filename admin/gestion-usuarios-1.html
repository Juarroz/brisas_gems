<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sistema interactivo de Brisas Gems para la personalizaciÃ³n de joyas en lÃ­nea">
    <meta name="author" content="Johan Bocanegra">
    <link rel="icon" href="../img/icono.png">
    <title>Gestion De Usuarios Y Roles 1</title>
  <!-- Estilos globales primero -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
  <link rel="stylesheet" href="../css/bootstrap.min.css">
  <link rel="stylesheet" href="../css/assets/css-global/main.css">
  
  <link rel="stylesheet" href="../css/mis-pedidos.css">
  </head>
<body>
 <!-- ------ -->
<!-- HEADER -->
<!-- ------ -->
<header class="encabezado">
  <div class="contenedor-header">

    <!-- Logo centrado -->
    <div class="logo-centro">
        <img src="../img/logo.png" alt="Logo Brisas Gems">
      </a>
    </div>

    <!-- MenÃº izquierdo -->
    <nav class="nav-izquierda">
      <a href="./gestion-usuarios-1.html">GESTIÃ“N USUARIO</a>
      <a href="./gestion-inspiracion.html">GESTIÃ“N INSPIRACIÃ“N</a>
      <a href="./gestion-opciones.html">GESTIÃ“N PERSONALIZACIÃ“N</a>
      <a href="./gestion-pedidos.html">GESTIÃ“N PEDIDOS</a>
    </nav>


    <!-- Ãconos a la derecha -->
    <div class="menu-derecha">
      <div class="perfil-wrapper">
        <img src="../img/person.svg" alt="Perfil" class="icono" id="icono-usuario">
        <div class="menu-usuario" id="menu-usuario">
          <a href="#">Mi Perfil</a>
          <a href="../index.html">Cerrar Sesion</a>
        </div>
      </div>
    </div>
  </div>
</header>

<script>
  const iconousuario = document.getElementById('icono-usuario');
  const menuusuario = document.getElementById('menu-usuario');

  iconoUsuario.addEventListener('click', () => {
    menuUsuario.classList.toggle('activo');
  });

  // Cierra el menÃº al hacer clic fuera
  document.addEventListener('click', (e) => {
    if (!iconoUsuario.contains(e.target) && !menuUsuario.contains(e.target)) {
      menuUsuario.classList.remove('activo');
    }
  });
</script>
  
  <main class="container my-5 Contenido">
    <!-- TÃ­tulo de la secciÃ³n -->
    <h1 class="mb-4">GestiÃ³n de Usuarios y Roles</h1>

    <!-- Tabla de usuarios -->
    <div class="table-responsive">
      <table class="table table-hover align-middle">
        <thead class="table-light">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Nombre</th>
            <th scope="col">Correo</th>
            <th scope="col">TelÃ©fono</th>
            <th scope="col">Documento</th>
            <th scope="col">Rol actual</th>
            <th scope="col">Activo</th>
            <th scope="col">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <!-- Ejemplo de fila; este bloque se repite por cada usuario -->
          <!-- En el servidor generarÃ¡s este <tr> dinÃ¡micamente -->
          <tr>
            <th scope="row">1</th>
            <td>MarÃ­a PÃ©rez</td>
            <td>maria.perez@correo.com</td>
            <td>3001234567</td>
            <td>CCâ€‘10203040</td>
            <td>Cliente</td>
            <td>
              <!-- Indicador de usuario activo/inactivo -->
              <span class="badge bg-success">SÃ­</span>
            </td>
            <td>
              <!-- BotÃ³n para abrir modal de ediciÃ³n de rol -->
              <button
                type="button"
                class="btn btn-sm btn-outline-primary"
                data-bs-toggle="modal"
                data-bs-target="#modalEditarRol"
                data-user-id="1"
                data-user-name="MarÃ­a PÃ©rez"
                data-user-role="Cliente"
              >
                Editar rol
              </button>
            </td>
          </tr>
          <!-- /fin de ejemplo de fila -->
        </tbody>
      </table>
    </div>
  </main>

  <!-- Modal para cambiar rol -->
  <div
    class="modal fade"
    id="modalEditarRol"
    tabindex="-1"
    aria-labelledby="modalEditarRolLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <form id="formEditarRol" method="POST" action="/usuarios/actualizar-rol">
          <div class="modal-header">
            <h5 class="modal-title" id="modalEditarRolLabel">
              Editar Rol de <span id="modalUsuarioNombre"></span>
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Cerrar"
            ></button>
          </div>
          <div class="modal-body">
            <input type="hidden" name="usu_id" id="modalUsuarioId">
            <div class="mb-3">
              <label for="selectRol" class="form-label">Rol</label>
              <select
                class="form-select"
                id="selectRol"
                name="rol_id"
                required
              >
                <!-- Opciones generadas dinÃ¡micamente desde la tabla rol -->
                <option value="">Seleccione un rol</option>
                <option value="1">Cliente</option>
                <option value="2">DiseÃ±ador</option>
                <option value="3">Administrador</option>
              </select>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cancelar
            </button>
            <button type="submit" class="btn btn-primary">Guardar cambios</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <footer class="footer-joyeria">
    <div class="contenedor-footer">
      
      <div class="columna-footer">
        <h4>Brisas Gems</h4>
        <p>ðŸŸ¢ JoyerÃ­a fina y personalizada con los mÃ¡s altos estÃ¡ndares de calidad.</p>
        <div class="redes-sociales">
          <a href="#" target="_blank" rel="noopener" aria-label="Facebook Brisas Gems">
            <img src="../img/icono-whatsApp.png" alt="Facebook Brisas Gems">
          </a>
          <a href="#" target="_blank" rel="noopener" aria-label="Instagram Brisas Gems">
            <img src="../img/icono instagram.png" alt="Instagram Brisas Gems">
          </a>
          <a href="#" target="_blank" rel="noopener" aria-label="WhatsApp Brisas Gems">
            <img src="../img/icono-facebook.png" alt="WhatsApp Brisas Gems">
          </a>
        </div>
      </div>
  
      <div class="columna-footer">
        <h4>Contacto</h4>
        <p><span class="icono-footer">ðŸŸ¢</span> Av JimÃ©nez #5-43, Emerald Trade Center, BogotÃ¡</p>
        <p><span class="icono-footer">ðŸŸ¢</span> +57 6017654312</p>
        <p><span class="icono-footer">ðŸŸ¢</span> info@brisasgem.com</p>
      </div>
  
      <div class="columna-footer">
        <h4>Enlaces</h4>
        <nav aria-label="Enlaces rÃ¡pidos">
          <ul class="enlaces-footer">
            <li><a href="./Gestionar-U-R.html">GestiÃ³n de Usuarios y Roles</a></li>
            <li><a href="#"> My Perfil</a></li>
          </ul>
        </nav>
      </div>
  
    </div>
  
    <div class="derechos-footer">
      <p>Â© 2025 Brisas Gems - Todos los derechos reservados</p>
      <p>Desarrollado por SENA CEET - Ficha 2996176 ADSO</p>
    </div>
  </footer>
      </script>
    <!-- Script para el menÃº de usuario -->
  <script>
  const iconoUsuario = document.getElementById('icono-usuario');
  const menuUsuario = document.getElementById('menu-usuario');

  iconoUsuario.addEventListener('click', () => {
    menuUsuario.classList.toggle('activo');
  });

  // Cierra el menÃº al hacer clic fuera
  document.addEventListener('click', (e) => {
    if (!iconoUsuario.contains(e.target) && !menuUsuario.contains(e.target)) {
      menuUsuario.classList.remove('activo');
    }
  });
</script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
</body>
</html>